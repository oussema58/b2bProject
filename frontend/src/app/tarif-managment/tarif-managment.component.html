<div class="main-content">

    <div class="main-content-inner">

        <div class="main-content-wrap">
            <div class="flex items-center flex-wrap justify-between gap20 mb-27">
                <h3>Gestion des Tarifs</h3>
                <ul class="breadcrumbs flex items-center flex-wrap justify-start gap10">
                    <li>
                        <a routerLink="/dashboard">
                            <div class="text-tiny">Dashboard</div>
                        </a>
                    </li>
                    <li>
                        <i class="icon-chevron-right"></i>
                    </li>
                    <li>
                        <a routerLink="/dashboard/tarif">
                            <div class="text-tiny">tarif</div>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="wg-box">
                <div class="flex items-center justify-between gap10 flex-wrap">
                    <div class="wg-filter flex-grow">
                        <form class="form-search">
                            <fieldset class="name">
                                <input type="text" placeholder="chercher tarif par intitule..." class="" name="name"
                                    tabindex="2" [(ngModel)]="intituleTarif" (ngModelChange)="change()">
                            </fieldset>

                        </form>
                    </div>
                   <a class="tf-button style-1 w208" [routerLink]="'/dashboard/tarif/add'"><i class="icon-plus"></i>Ajouter Tarif</a>
                </div>

                <mat-card>
                    <mat-card-header></mat-card-header>
                    <mat-card-content>
                        <table mat-table [dataSource]="dataSource" class="table table-striped">
                            <ng-container matColumnDef="Code">
                                <th mat-header-cell *matHeaderCellDef>Code</th>
                                <td mat-cell *matCellDef="let element">{{element.tarif_Entete_Code}}</td>
                            </ng-container>
                            <ng-container matColumnDef="Intitule">
                                <th mat-header-cell *matHeaderCellDef>Intitule</th>
                                <td mat-cell *matCellDef="let element">{{element.tarif_Entete_intitule}}</td>
                            </ng-container>
                            <ng-container matColumnDef="date fin">
                                <th mat-header-cell *matHeaderCellDef class="noPadding">Date fin</th>
                                <td mat-cell *matCellDef="let element">{{element.tarif_Entete_DateFin}}</td>
                            </ng-container>
                            <ng-container matColumnDef="jour Restants">
                                <th mat-header-cell *matHeaderCellDef>Jour Restants</th>
                                <td mat-cell *matCellDef="let element">
                                <span [ngStyle]="{color:((daysLeft(element.tarif_Entete_DateFin)>=safeZone)?'green':((daysLeft(element.tarif_Entete_DateFin)>=dangerZone)?'orange':'red'))}">
                                    {{daysLeft(element.tarif_Entete_DateFin)>0?daysLeft(element.tarif_Entete_DateFin):0}}</span>
                                </td>
                            </ng-container>
                            <ng-container matColumnDef="Action">
                                <th mat-header-cell *matHeaderCellDef>Action</th>
                                <td mat-cell *matCellDef="let element">
                                    <button class="btn btn-primary" [routerLink]="'/dashboard/tarif/'+element.tarifEnteteId+'/update'">
                                        <i class="icon-edit-3"></i>
                                    </button>
                                    <button (click)="delete(element.tarifEnteteId)" class="btn btn-danger">
                                        <i class="icon-trash-2"></i>
                                    </button>
                                </td>
                            </ng-container>

                            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                            <tr mat-row *matRowDef="let row;columns: displayedColumns"></tr>
                            <tr *matNoDataRow >
                                <td colspan="8"
                                 style="text-align: center;">Aucun tarif trouv√©</td>
                            </tr>
                        </table>
                    </mat-card-content>
                    <mat-card-footer>
                        <mat-paginator [pageSizeOptions]="[2,10,20]" showFirstLastButtons></mat-paginator>
                    </mat-card-footer>
                </mat-card>

            </div>

<!--<div class="container">
    <h2>gestion tarif</h2>
    <table class="table">
        <tr>
            <td colspan="2"><input type="text" class="col-6 m-2 p-2 search" placeholder="chercher tarif">
            </td>
            <td></td>
            <td></td>
            <td colspan="2"><button class="btn btn-primary" [routerLink]="'/dashboard/tarif/add'">Ajouter tarif</button></td>
        </tr>
    </table>
    <div class="catalog-container">
        <table class="table" *ngIf="ready">
            <tr>
                <th scope="col">Intitule</th>
                <th scope="col">Code</th>
                <th scope="col">date fin</th>
                <th>jour Restants</th>
            </tr>

            <tr *ngFor="let tarif of tarifs">
                <td>{{tarif.tarif_Entete_Code}}</td>
                <td>{{tarif.tarif_Entete_intitule}}</td>
                <td>{{tarif.tarif_Entete_DateFin}}</td>
                <td [ngStyle]="{color:((daysLeft(tarif.tarif_Entete_DateFin)>=safeZone)?'green':((daysLeft(tarif.tarif_Entete_DateFin)>=dangerZone)?'orange':'red'))}">
                    {{daysLeft(tarif.tarif_Entete_DateFin)>0?daysLeft(tarif.tarif_Entete_DateFin):0}}</td>
                <td><button class="btn btn-primary" [routerLink]="'/dashboard/tarif/'+tarif.tarifEnteteId+'/update'">Editer</button></td>
                <td><button (click)="delete(tarif.tarifEnteteId)" class="btn btn-danger">Supprimer</button></td>
            </tr>
        </table>-->
    </div>

</div>